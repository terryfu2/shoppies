(this["webpackJsonpshoppies-challenge"]=this["webpackJsonpshoppies-challenge"]||[]).push([[0],{61:function(t,e,n){},84:function(t,e,n){},85:function(t,e,n){"use strict";n.r(e);var i=n(1),o=n(0),r=n.n(o),a=n(23),s=n.n(a),c=(n(61),n(29)),l=n.n(c),d=n(35),h=n(8),u=n(9),j=n(11),p=n(10),m=n(36),b=n.n(m),g="https://www.omdbapi.com/?apikey=4e2532db&",O=n(53),f=n.n(O),x=n(94),y=n(93),v=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).state={showModal:!1},i}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)(x.a,{fixed:"top",children:Object(i.jsxs)(x.a.Collapse,{id:"basic-navbar-nav",children:[Object(i.jsx)(y.a,{className:"mr-auto"}),Object(i.jsx)(y.a.Link,{style:{fontSize:"25px",color:"white"},onClick:function(){return t.props._toggleShowModal()},children:"Nominations"})]})})})}}]),n}(r.a.Component),N=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).state={mode:"light",showModal:!1},i}return Object(u.a)(n,[{key:"render",value:function(){return Object(i.jsx)(x.a,{fixed:"bottom",children:Object(i.jsx)(x.a.Brand,{style:{fontSize:"10px"},children:"Terry Fu 2021"})})}}]),n}(r.a.Component),_=n(87),k=n(88),S=n(54),w=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"_getNominationsRemaining",value:function(){return 5===Object.keys(this.props.nominations).length?Object(i.jsx)("span",{style:{fontWeight:"800"},children:"You completed your nominations "}):Object(i.jsxs)("span",{style:{fontWeight:"200"},children:["You have ",Object(i.jsx)("span",{style:{fontWeight:"800"},children:5-Object.keys(this.props.nominations).length})," nominations left"]})}},{key:"render",value:function(){return Object(i.jsx)("header",{className:"header",children:Object(i.jsx)(_.a,{children:Object(i.jsxs)(k.a,{children:[Object(i.jsxs)(S.a,{md:6,children:[Object(i.jsx)("h1",{className:"title",children:"Shoppies"}),Object(i.jsx)("p",{style:{fontSize:"25px",fontWeight:"200"},children:"Shopify Challenge 2021"})]}),Object(i.jsx)(S.a,{md:6,className:"my-auto text-center",children:Object(i.jsx)("p",{style:{fontSize:"25px"},children:this._getNominationsRemaining()})})]})})})}}]),n}(r.a.Component),F=n(92),M=n(55),C=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(i.jsx)(F.a,{style:{paddingBottom:"10px"},inline:!0,children:Object(i.jsx)(M.a,{onChange:this.props._updateQuery,value:this.props.query,style:{width:"100%"},type:"text",placeholder:'"Search for a Movie"',className:"mr-sm-2"})})}}]),n}(r.a.Component),D=n(89),B=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(i.jsx)(D.a,{style:{paddingBottom:"0px"},className:this.props.isNominated?"nominated-jumbo":"nominate-jumbo",children:Object(i.jsxs)(_.a,{children:[Object(i.jsxs)(k.a,{children:[Object(i.jsx)(S.a,{md:6,className:"d-flex justify-content-center",children:Object(i.jsx)("img",{style:{display:"flex"},src:this.props.res.Poster,height:"100%",width:"auto",alt:"poster"})}),Object(i.jsxs)(S.a,{md:6,className:"my-auto text-center",style:{color:this.props.isNominated?"#FFFFFF":"#3E4348"},children:[Object(i.jsx)("h3",{className:"title",style:{display:"block"},children:this.props.res.Title}),Object(i.jsxs)("p",{children:["(",this.props.res.Year,")"]}),this.props._renderButton(this.props.res)]})]}),this.props._renderMovieDetails(this.props.res.imdbID,this.props.isNominated),Object(i.jsxs)(k.a,{children:[Object(i.jsx)(S.a,{md:3,style:{paddingTop:"15px",paddingBottom:"15px"},children:Object(i.jsx)("hr",{style:{backgroundColor:"white"}})}),Object(i.jsx)(S.a,{md:6,className:"text-center",style:{paddingTop:"15px",paddingBottom:"15px",cursor:"pointer",color:this.props.isNominated?"#FFFFFF":"#3E4348"},onClick:function(){return t.props._toggleViewMovie(t.props.res.imdbID)},children:"Movie details"}),Object(i.jsx)(S.a,{md:3,style:{paddingTop:"15px",paddingBottom:"15px"},children:Object(i.jsx)("hr",{style:{backgroundColor:"white"}})})]})]})})}}]),n}(r.a.Component),I=n(90),T=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).state={movieData:{}},i}return Object(u.a)(n,[{key:"_renderButton",value:function(t){var e=this,n=JSON.parse(localStorage.getItem("nominations"));return n?n[t.imdbID]?Object(i.jsx)(I.a,{className:"de-nominate-btn",onClick:function(){return e.props._toggleNomination(t)},children:"Remove nomination"}):Object.keys(n).length<5?Object(i.jsx)(I.a,{className:"nominate-btn",onClick:function(){return e.props._toggleNomination(t)},children:"Nominate"}):null:Object(i.jsx)(I.a,{className:"nominate-btn",onClick:function(){return e.props._toggleNomination(t)},children:"Nominate"})}},{key:"_toggleViewMovie",value:function(){var t=Object(d.a)(l.a.mark((function t(e){var n,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(g+"i=".concat(e));case 2:(n=t.sent).data&&(i={director:n.data.Director,rating:n.data.imdbRating,boxOffice:n.data.BoxOffice,plot:n.data.Plot,imdbID:n.data.imdbID},this.setState({movieData:i}));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_renderMovieDetails",value:function(t,e){var n=this.state.movieData;return 0!==Object.keys(n).length&&n.imdbID===t?Object(i.jsxs)(k.a,{style:{paddingTop:"20px",color:e?"#FFFFFF":"#3E4348"},children:[Object(i.jsxs)(S.a,{md:4,children:["\ud83c\udfac ",n.director]}),Object(i.jsxs)(S.a,{md:4,children:["\ud83c\udf1f ",n.rating]}),Object(i.jsxs)(S.a,{md:4,children:["\ud83d\udcb0 ",n.boxOffice]}),Object(i.jsx)(S.a,{md:12,style:{paddingTop:"20px"},children:n.plot})]}):null}},{key:"_renderList",value:function(){var t=this,e=JSON.parse(localStorage.getItem("nominations"));if(this.props.fetching)return Object(i.jsx)("i",{className:"fas fa-search fa-pulse"});if(this.props.error)return Object(i.jsxs)("p",{children:[this.props.error," Error"]});if(this.props.results.length<1)return Object(i.jsx)("p",{children:"Search for a movie to nominate "});return this.props.results.map((function(n,o){return Object(i.jsx)(B,{res:n,isNominated:!(!e||!e[n.imdbID]),_renderMovieDetails:function(e,n){return t._renderMovieDetails(e,n)},_toggleViewMovie:function(e){return t._toggleViewMovie(e)},_renderButton:function(e){return t._renderButton(e)}},o)}))}},{key:"render",value:function(){return Object(i.jsx)(r.a.Fragment,{children:this._renderList()})}}]),n}(r.a.Component),R=n(91),L=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(i.jsx)(D.a,{style:{color:"#FFFFFF",backgroundColor:"#3b00c4ec",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"10px",paddingRight:"10px"},children:Object(i.jsx)(_.a,{children:Object(i.jsxs)(k.a,{children:[Object(i.jsx)(S.a,{md:4,className:"d-flex justify-content-center",children:Object(i.jsx)("img",{style:{display:"flex"},src:this.props.nominations[this.props.nomination].Poster,height:"150px",width:"125px",alt:"poster"})}),Object(i.jsxs)(S.a,{md:8,className:"my-auto text-center",children:[Object(i.jsx)("h5",{className:"title",style:{display:"block"},children:this.props.nominations[this.props.nomination].Title}),Object(i.jsxs)("p",{children:["(",this.props.nominations[this.props.nomination].Year,")"]}),Object(i.jsx)(I.a,{className:"de-nominate-btn",onClick:function(){return t.props._toggleNomination(t.props.nominations[t.props.nomination])},children:"Remove nomination"})]})]})})})}}]),n}(r.a.Component),E=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"_renderNominations",value:function(){var t=this;if(0===Object.keys(this.props.nominations).length)return Object(i.jsx)("p",{children:"Start nominating some movies "});var e=[];for(var n in this.props.nominations)e.push(Object(i.jsx)(L,{nominations:this.props.nominations,nomination:n,_toggleNomination:function(e){return t.props._toggleNomination(e)}}));return e}},{key:"render",value:function(){return Object(i.jsxs)(R.a,{show:this.props.showModal,onHide:this.props._toggleShowModal,children:[Object(i.jsx)(R.a.Header,{closeButton:!0,children:Object(i.jsx)(R.a.Title,{children:"Your Nominations"})}),Object(i.jsx)(R.a.Body,{children:this._renderNominations()})]})}}]),n}(r.a.Component),J=n(95),Y=(n(84),function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).state={query:"",fetching:!1,nominations:localStorage.getItem("nominations")?JSON.parse(localStorage.getItem("nominations")):{},results:[],error:null,showModal:!1,notification:null},i}return Object(u.a)(n,[{key:"_toggleNomination",value:function(t){var e=localStorage.getItem("nominations")?JSON.parse(localStorage.getItem("nominations")):{},n=!1;e&&e[t.imdbID]?delete e[t.imdbID]:(e[t.imdbID]=t,n=!0),localStorage.setItem("nominations",JSON.stringify(e)),this.setState({nominations:e}),this._appendNotification(t,n)}},{key:"_appendNotification",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.state.notification,a=null;a=n?Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(J.a.Header,{closeButton:!1,children:Object(i.jsx)("strong",{children:"Nominated!"})}),Object(i.jsxs)(J.a.Body,{children:["You nominated ",t.Title,"!"]})]}):Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(J.a.Header,{closeButton:!1,children:Object(i.jsx)("strong",{children:"Removed Nominated!"})}),Object(i.jsxs)(J.a.Body,{children:["You removed the nomination for ",t.Title,"!"]})]}),o=Object(i.jsx)(J.a,{style:{minWidth:"350px",zIndex:"9999",position:"fixed",bottom:10,right:10},onClose:function(){return e.setState({notification:null})},show:!0,delay:4e3,autohide:!0,children:a}),this.setState({notification:o})}},{key:"_renderNotifications",value:function(){var t=this.state.notification;return Object(i.jsx)(r.a.Fragment,{children:t})}},{key:"_updateQuery",value:function(t){t.target.value.length>0?(this._getResults(t.target.value),this.setState({query:t.target.value})):this.setState({results:[],query:"",error:null})}},{key:"_getResults",value:function(){var t=Object(d.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({fetching:!0}),t.next=3,b.a.get(g+"s=".concat(e,"&type=movie"));case 3:n=t.sent,0===e.length?this.setState({results:[],error:null}):n.data.Error?this.setState({results:[],error:n.data.Error}):this.setState({results:n.data.Search,error:null}),this.setState({fetching:!1});case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_toggleShowModal",value:function(){this.setState({showModal:!this.state.showModal})}},{key:"_renderModal",value:function(){return this.state.showModal?Object(i.jsx)(E,{showModal:this.state.showModal}):null}},{key:"_renderConfetti",value:function(){var t=this.state.nominations;return 5===Object.keys(t).length?Object(i.jsx)(f.a,{style:{position:"absolute"},height:window.innerHeight,numberOfPieces:400,recycle:!1}):null}},{key:"render",value:function(){var t=this,e=this.state,n=e.mode,o=e.fetching,a=e.nominations,s=e.showModal,c=e.results,l=e.query,d=e.error,h=e.notification;return Object(i.jsxs)(r.a.Fragment,{children:[this._renderConfetti(),Object(i.jsxs)("div",{className:"main",children:[Object(i.jsx)(E,{_toggleNomination:function(e){return t._toggleNomination(e)},nominations:a,showModal:s,_toggleShowModal:function(){return t._toggleShowModal()}}),Object(i.jsx)(v,{mode:n,_toggleShowModal:function(){return t._toggleShowModal()},_toggleDarkLightMode:function(){return t._toggleDarkLightMode()}}),h?this._renderNotifications():null,Object(i.jsx)(w,{nominations:a}),Object(i.jsx)(_.a,{style:{paddingTop:"50px"},children:Object(i.jsx)(k.a,{children:Object(i.jsxs)(S.a,{md:{span:8,offset:2},children:[Object(i.jsx)(C,{query:l,_updateQuery:function(e){return t._updateQuery(e)}}),Object(i.jsx)(T,{fetching:o,_toggleNomination:function(e){return t._toggleNomination(e)},results:c,error:d})]})})}),Object(i.jsx)(N,{})]})]})}}]),n}(r.a.Component)),q=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(e){var n=e.getCLS,i=e.getFID,o=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),i(t),o(t),r(t),a(t)}))};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(Y,{})}),document.getElementById("root")),q()}},[[85,1,2]]]);
//# sourceMappingURL=main.c27172bd.chunk.js.map